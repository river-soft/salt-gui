Аутентификация и авторизация
===============================

*\~ В процессе разработки \~*

![Рис. 1 — Окно авторизации]()

Главная страница 
====================

В случае успешной авторизации будет открыта главная страница сервиса:

![Рис.2 — главная страница SaltGUI](media/54663188b2024088260c7d66cbc71e6b.png)

На главной странице отображается информация о миньонах, которые обратились к
серверу Salt.

Состояния миньонов делится на 4 типа: Принятый (Accepted), Отказанные (Denied),
Не принятые (Unaccepted), Отклоненные (Reject). Жизненный цикл миньона
предоставлен на рисунке 3.

В блоке «Статус» отображается общее количество миньонов, которые находятся в том
или ином состоянии.

В блоке «Группы» отображается общее количество принятых миньонов в каждой из
групп миньонов.

![Рис.3 — Жизненный цикл миньона](media/365604ac31603dcafcff8fe0a46fb6aa.png)

Во вкладке **«Принятые» (Acepted)** перечислены все принятые миньоны с
информацией о группах в которые они включены. Выполнение скриптов возможно
только у миньонов со статусом Accepted. Принятые миньоны можно удалить, отметив
один или несколько миньонов галочкой в поле «Выбор» и нажав на кнопку «Удалить»
(Delete) с подтверждением действия.

Вкладка **«Отказанные» (Deneid)** содержит перечень миньонов, которые отклонил
сам сервер Salt. В этот перечень попадают те миньоны, которые дублируют уже
принятых миньонов, например, название нового миньона совпадает с уже ранее
принятым миньоном.

Вкладка **«Не принятые» (Unaccepted)** содержит перечень новых миньонов, которые
обратились к северу Salt и прошли проверку на уникальность. Новые миньоны можно
принять для дальнейшей работы или отклонить, если это необходимо. При принятии
миньона обязательным является указание группы, которой будет принадлежать миньон
(подробнее о группах миньонов описано в разделе 3).

![Рис.4 — Вкладка «Не принятые» (Unaccepted)](media/dd92afdb20cf7cf0d25dba5d8c4aae8e.png)

Во вкладке **«Отклоненные» (Rejected)** отображается весь перечень миньонов
когда-либо отклоненных пользователем. Миньона можно удалить аналогично, как и на
вкладке принятые.

Страница «Скрипты»
=====================

Управление скриптами — создание, редактирование, удаление, запуск на выполнение
возможно на странице «Скрипты».

![Рис.5 — Страница «Скрипты»](media/3dd750d09cc800f805c9c3a1bbae7601.png)

Навигация по странице:

1.  Удаление группы — функционал доступен только для группы, в которой не
    содержится ни одного скрипта;

2.  Редактирование наименования группы скриптов;

3.  Добавление группы и/или скрипта;

4.  Запуск скрипта на выполнение;

5.  Редактирование скрипта и принадлежность его к группе;

6.  Удаление скрипта.

Добавление скрипта
------------------

Скрипт обязательно должен содержаться в группе. Поэтому при создании нового
скрипта необходимо нажать на кнопку «Добавить группу» (кнопка 3 на рисунке 5).
После указать группу, в которой будет состоять скрипт (указать новую путем ввода
из клавиатуры или выбрать уже существующую с помощью выпадающего списка) (рис.
6). После нажать кнопку «Добавить скрипт» появится окно ввода наименования и
тела скрипта (рис. 7)

![Рис.6 — Добавление группы скрипта и скрипта](media/3d896b64160270be57e5f665d35128ab.png)

![Рис.7 — Добавление скрипта](media/0de3693c9455e3ecbc7238ceab8adaa7.png)

После нажатия на кнопку «Добавить» появится возможность добавление еще одного
скрипта в эту же группу. Если добавление скриптов окончено, то необходимо
сохранить все внесенные изменения нажатием на кнопку «СОХРАНИТЬ» (Рис. 8)

![Рис.8 — Пример создание группы с несколькими миньонами](media/fbf0436948a7565694fa99bf2eee0004.png)

Запуск скрипта 
---------------

Из страницы «Скрипты» можно запустить один скрипт на нескольких миньонах. Для
этого необходимо нажать на кнопку «Запустить» (рис. 5 кнопка 6) выбрать один или
несколько миньонов и еще раз нажать кнопку «Запустить»

![Рис.9 — Запуск скрипта](media/7f7ccefdffed2219dfb6b785bed384b4.png)

Результаты выполнения скрипта описаны в разделе 5.

Страница «Миньоны»
=====================

Подробную информацию о миньонах и принадлежность их к группам можно посмотреть
на странице «Миньоны». Один миньон может принадлежать нескольким группам.

![Рис.10 — Страница «Миньоны»](media/9061aba35a40f9a0410ca1a0c7d6ded0.png)

Доступная функциональность на странице:

1.  Редактирование имени группы миньонов;

2.  Удаление группы миньонов. После удаления группы миньоны, которые были только
    в этой группе автоматически переместятся в группу по умолчанию;

3.  Добавление группы миньонов

4.  Редактирование принадлежности миньона к группам (рис. 11);

5.  Запуск нескольких скриптов для выбранного миньона.

![Рис.11 — Окно выбора группы для миньона](media/1b172d3010f24fd403627baa68a23b6f.png)

Запуск скрипта
--------------

Запуск скрипта из страницы «Миньоны» аналогичен функциональности из страницы
«Скрипты», только с той разницей что выбираются скрипты (один или несколько) для
запуска на одном миньоне.

![Рис.12 — Запуск скриптов со страницы «Миньоны»](media/2fa8960c9a981d917ef2c5eb57744121.png)

Страница «Работы»
====================

Результаты выполнения запущенных скриптов можно посмотреть на странице «Работы»
- рисунок 13

![Рис.13 — Страница результатов выполнения скриптов](media/620e4853e19c1b7da3d4341f43953150.png)

В левой части экрана отображается список запущенных ранее скриптов с
аккумулированными результатами по выполнению:

1.  Выполнено;

2.  Не выполнено;

3.  Нет связи с миньоном.

Подробную информацию о ходе выполнения скрипта на конкретном миньоне можно
посмотреть, кликнув на имя миньона (рис. 14).

![Рис.14 — Результат работы скрипта](media/c968abe671bbc0ea74026bb6c9463518.png)

На вкладках «Не выполнено» и «Нет соединения» предусмотрена функциональность
перезапуска скрипта на тех миньонах на которых скрипт не выполнился (рис. 15 и
16)

![Рис.15 — Вкладка «Не выполнено» с возможностью перезапуска скрипта для выбранных миньонов](media/c286926cb3819b1e87361b1a46eb2329.png)

![Рис.16 — Вкладка «Нет соединения» с возможностью перезапуска скрипта для выбранных миньонов](media/356ba96fe6a846559ee8b16c9ffed42d.png)